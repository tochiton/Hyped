<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/css/bootstrap.min.css" integrity="sha384-MIwDKRSSImVFAZCVLtU0LMDdON6KVCrZHyVQQj6e8wIEJkW4tvwqXrbMIya1vriY" crossorigin="anonymous">
</head>

<style>

.navbtn {
	color: #FFFFF0
}

.teamlist {
	padding-top: 20px
	padding-bottom: 20px
}

#ChooseMVPTitle {
	padding: 10px
}

.row {
	padding-bottom: 20px
}

.scrollable-menu {
	overflow-x: hidden
}

#submit {
	margin: auto
}

#selected-item {
	font-weight: bold;
	font-size: 18px;
}

.navitemname {
	display: inline-block;
	width: 100%
}

#home-team{

}

#away-team{

}

</style>

<body>
	<div style="width:100vw; height:100vh">
		<div class="collapse" id="CollapsingNavbar">
			<div class="bg-inverse p-a-1">
				<ul class="nav">
					<li class="nav-item">
						<button class="navbar-toggler navbtn" id="mvp" data-toggle="collapse" data-target="#CollapsingNavbar" href="#">MVP Vote</button>
					</li>
					<li class="nav-item">
						<button class="navbar-toggler navbtn" id="song" data-toggle="collapse" data-target="#CollapsingNavbar" href="#">Fav Song</button>
					</li>
					<li class="nav-item">
						<button class="navbar-toggler navbtn" id="raffle" data-toggle="collapse" data-target="#CollapsingNavbar" href="#">Raffle</button>
					</li>
				</ul>
			</div>
		</div>

		<div class="navitemname">
			<nav class="navbar navbar-light bg-faded nav-inline">
				<ul class="nav nav-inline">
					<li class="nav-item">
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#CollapsingNavbar"> &#9776; </button>
					</li>
					<li class="nav-item">
						<p id="selected-item">MVP Vote</p>
					</li>
				</ul>
			</nav>
		</div>

		<div class="container" id="main-content" style="margin:1px; padding:1px;">
			<div class="container" id="team-names">
				<div class="teamlist">
					<h4 align="center" id="ChooseMVPTitle">Choose the MVP Player</h4>
					<div class="container">
						<div class="col-xs-6 col-sm-6">
							<h6 align="center">Oregon Ducks</h6>
						</div>
						<div class="col-xs-6 col-sm-6">
							<h6 align="center">Washington Huskies</h6>
						</div>
					</div>
				</div>

				<div class="container" style="padding-bottom:5%">
					<div class="col-xs-6 col-sm-6">
						<div style="text-align:center">
							<img src="./img/duck.png" alt="Mountain View" style="width:50px;height:auto;">
						</div>
					</div>
					<div class="col-xs-6 col-sm-6">
						<div style="text-align:center">
							<img src="./img/uw.png" alt="Mountain View" style="width:50px;height:auto;">
						</div>
					</div>
				</div>
			</div>

			<div class="container">
				<div class="row">
					<div class="col-xs-6 col-sm-6">
						<ul class="list-group scrollable-menu" id="home-team"></ul>
					</div>
					<div class="col-xs-6 col-sm-6">
						<ul class="list-group scrollable-menu" id="away-team"></ul>
					</div>
				</div>

				<div class="container" id="btnsubmit" align="center" style="padding-bottom:5%">
					<button class="btn btn-primary btn-block" id="submit" type="button">Submit MVP Pick</button>

					<br>
					<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

					<div class="container-fluid">
						<div class="row">
							<div class="sicon">

								<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 text-center">
									<div class="icon-circle">
										<a href="#" class="ifacebook" title="Facebook"><i class="fa fa-facebook"></i></a>
									</div>
								</div>

								<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 text-center">
									<div class="icon-circle">
										<a href="#" class="itwittter" title="Twitter"><i class="fa fa-twitter"></i></a>
									</div>
								</div>

								<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 text-center">
									<div class="icon-circle">
										<a href="#" class="igoogle" title="Google+"><i class="fa fa-google-plus"></i></a>
									</div>
								</div>

								<div class="col-lg-1 col-md-1 col-sm-2 col-xs-3 text-center">
									<div class="icon-circle">
										<a href="#" class="iLinkedin" title="Linkedin"><i class="fa fa-linkedin"></i></a>
									</div>
								</div>

							</div>
						</div>
					</div>


				</div>



			</div>




		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/js/bootstrap.min.js" integrity="sha384-ux8v3A6CPtOTqOzMKiuo3d/DomGaaClxFYdCu2HPMBEkf6x2xiDyJ7gkXU0MWwaD" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

	<script>
	$(function(){
		var homeTeamSelection;
		var awayTeamSelection;
		var screenHeight = screen.height;
		var navItems = $('.navitemname').height();
		var teamNameHeight = $('#team-names').height();
		var submitHeight = $('#btnsubmit').height();
		var teamListHeight = screenHeight - navItems - teamNameHeight - submitHeight - 45;

		$('#mvp').click(function(){
			$.get('/list', function(data){
				$('.scrollable-menu').css({"max-height": teamListHeight});

				$('#home-team').append(data.homeTeam);
				$('#away-team').append(data.awayTeam);

				$('.list-group-item').on('click', function(){
					if($(this).parent().attr('id') === "home-team"){
						if(homeTeamSelection != undefined){
							homeTeamSelection.removeClass('active');
						}
						$(this).addClass('active');
						homeTeamSelection = $(this);
					}
					else{
						if(awayTeamSelection != undefined){
							awayTeamSelection.removeClass('active');
						}
						$(this).addClass('active');
						awayTeamSelection = $(this);
					}
				});
			});
		});

		$('#submit').on('click', function(){
			if(homeTeamSelection != undefined && awayTeamSelection != undefined){
				$.post('/votes', {name: homeTeamSelection.text()});
				$.post('/votes', {name: awayTeamSelection.text()});
			}

		});

		$( ".navbtn" ).click(function() {
			var currentName = $(this).text();
			$("#selected-item").text(currentName);
		});


	});

	document.getElementById("raffle").onclick = function() {
		location.href = "/raffle.html";
	};
	</script>
</body>

<footer>
</footer>
</html>
